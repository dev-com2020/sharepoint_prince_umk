<script>
document.addEventListener('DOMContentLoaded', () => {
    // Funkcja do sprawdzenia obecności elementu
    function moveToolbar() {
        const toolbarElement = document.querySelector('.ms-formtoolbar'); // Element do przeniesienia
        const formSections = document.querySelectorAll('.form-section'); // Wszystkie sekcje

        if (toolbarElement && formSections.length > 0) {
            // Pobierz ostatni div z klasą form-section
            const lastFormSection = formSections[formSections.length - 1];

            // Przenieś toolbar na koniec ostatniej sekcji
            lastFormSection.appendChild(toolbarElement);
            console.log('Element .ms-formtoolbar został przeniesiony.');
        } else {
            console.warn('Nie znaleziono elementu .ms-formtoolbar lub sekcji .form-section.');
        }
    }

    // Użyj MutationObserver, aby upewnić się, że element jest obecny w DOM
    const observer = new MutationObserver((mutations, observerInstance) => {
        const toolbarElement = document.querySelector('.ms-formtoolbar');
        const formSections = document.querySelectorAll('.form-section');

        if (toolbarElement && formSections.length > 0) {
            // Przenieś toolbar i zakończ obserwowanie
            moveToolbar();
            observerInstance.disconnect();
        }
    });

    // Obserwuj zmiany w DOM
    observer.observe(document.body, {
        childList: true,
        subtree: true,
    });
});
</script>